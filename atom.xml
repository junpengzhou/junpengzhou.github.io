<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AlphaDog</title>
  
  <subtitle>Junpengzhou&#39;s Blog, Welcome!</subtitle>
  <link href="https://blog.junpengzhou.top/atom.xml" rel="self"/>
  
  <link href="https://blog.junpengzhou.top/"/>
  <updated>2023-08-23T10:38:55.437Z</updated>
  <id>https://blog.junpengzhou.top/</id>
  
  <author>
    <name>Junpengzhou</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Markdown插入bilibili视频</title>
    <link href="https://blog.junpengzhou.top/article/eeaa9f96.html"/>
    <id>https://blog.junpengzhou.top/article/eeaa9f96.html</id>
    <published>2023-08-23T07:24:47.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一操作步骤">一、操作步骤</h1><ol type="1"><li><p>在<code>素质三连键</code><span class="emoji" data-emoji="dog">🐶</span>边上找到分享按钮，然后选择<code>嵌入代码</code><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230823152733855.png" alt="image-20230823152733855"></p></li><li><p>复制出来的嵌入代码其中src的内容为视频链接，其他参数为iframe参数</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"//player.bilibili.com/player.html?aid=500715827&amp;bvid=BV1CK411u75G&amp;cid=269252712&amp;page=2&amp;high_quality=1&amp;danmaku=0"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">framespacing</span>=<span class="string">"0"</span> <span class="attr">allowfullscreen</span>=<span class="string">"true"</span> <span class="attr">sandbox</span>=<span class="string">"allow-top-navigation allow-same-origin allow-forms allow-scripts"</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3" type="1"><li>修改链接</li></ol><ul><li>视频链接参数</li></ul><table><thead><tr class="header"><th style="text-align: left;">选项</th><th style="text-align: left;">说明</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">high_quality</td><td style="text-align: left;">1 最高画质 0 最低画质</td></tr><tr class="even"><td style="text-align: left;">danmaku</td><td style="text-align: left;">1 打开弹幕 0 关闭弹幕</td></tr><tr class="odd"><td style="text-align: left;">autoplay</td><td style="text-align: left;">1 打开自动播放 0 关闭自动播放</td></tr></tbody></table><ul><li>iframe参数</li></ul><table><thead><tr class="header"><th style="text-align: left;">选项</th><th style="text-align: left;">说明</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">allowfullscreen</td><td style="text-align: left;">true 允许全屏 false 不允许</td></tr><tr class="even"><td style="text-align: left;">sandbox</td><td style="text-align: left;">allow-top-navigation allow-same-originallow-forms allow-scripts 禁止弹出网页</td></tr><tr class="odd"><td style="text-align: left;">width</td><td style="text-align: left;">宽度像素</td></tr><tr class="even"><td style="text-align: left;">height</td><td style="text-align: left;">高度像素</td></tr></tbody></table><ul><li>修改后代码</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"//player.bilibili.com/player.html?aid=500715827&amp;bvid=BV1CK411u75G&amp;cid=269252712&amp;page=2&amp;high_quality=1&amp;danmaku=0&amp;autoplay=0"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">framespacing</span>=<span class="string">"0"</span> <span class="attr">allowfullscreen</span>=<span class="string">"true"</span> <span class="attr">sandbox</span>=<span class="string">"allow-top-navigation allow-same-origin allow-forms allow-scripts"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"600"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4" type="1"><li>将修改后的<code>嵌入代码</code>插入到Markdown文档中</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230823155801529.png" alt="image-20230823155801529"></p><h1 id="二效果示例">二、效果示例</h1><iframe src="//player.bilibili.com/player.html?aid=500715827&bvid=BV1CK411u75G&cid=269252712&page=2&high_quality=1&danmaku=0&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts" width="100%" height="600"></iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一操作步骤&quot;&gt;一、操作步骤&lt;/h1&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;素质三连键&lt;/code&gt;&lt;span class=&quot;emoji&quot; data-emoji=&quot;dog&quot;&gt;🐶&lt;/span&gt;边上找到分享按钮，然后选择&lt;code&gt;嵌入代码&lt;/co</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="Markdown" scheme="https://blog.junpengzhou.top/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>为博客添加友链朋友圈功能</title>
    <link href="https://blog.junpengzhou.top/article/85fa82d5.html"/>
    <id>https://blog.junpengzhou.top/article/85fa82d5.html</id>
    <published>2023-08-17T03:12:15.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一什么是友链朋友圈">一、什么是友链朋友圈</h1><blockquote><p>你是否经常烦恼于友链过多但没有时间浏览？那么友链朋友圈将解决这一痛点。你可以随时获取友链网站的更新内容，并了解友链的活跃情况。</p></blockquote><h2 id="11-效果传送门">1.1 效果传送门</h2><p><a href="/fcircle/">博客快讯</a></p><h2 id="12-效果示意图">1.2 效果示意图</h2><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818142343102.png" alt="image-20230818142343102"></p><h1 id="二准备材料">二、准备材料</h1><ol type="1"><li>vercel账号注册</li><li>github账号注册</li></ol><h1 id="三友链朋友圈贡献者介绍">三、友链朋友圈贡献者介绍</h1><table><thead><tr class="header"><th>名称</th><th>主页</th><th>说明</th></tr></thead><tbody><tr class="odd"><td>小冰（冰老师）</td><td><a href="https://zfe.space/">https://zfe.space/</a></td><td>友链朋友圈理念奠基人，初代前后端方案编写者！</td></tr><tr class="even"><td>Akilar（店长）</td><td><a href="https://akilar.top/">https://akilar.top/</a></td><td>为历代友链朋友圈提供前端方案，npm 插件方案编写者</td></tr><tr class="odd"><td>heo（设计师）</td><td><a href="https://blog.zhheo.com/">https://blog.zhheo.com/</a></td><td>友链朋友圈前端方案、视觉设计，UI 方案多样化</td></tr><tr class="even"><td>贰猹（后端）</td><td><a href="https://noionion.top/">https://noionion.top/</a></td><td>历代友链朋友圈后端维护者，3.0方案编写者，多主题友链抓取适配，朋友圈售后中流砥柱，公共库方案、api编写者</td></tr><tr class="odd"><td>RaXianch</td><td><a href="https://blog.raxianch.moe/">https://blog.raxianch.moe/</a></td><td>友链朋友圈后端维护，多主题友链抓取适配</td></tr><tr class="even"><td>yyyz（重构）</td><td><a href="https://www.yyyzyyyz.cn/">https://www.yyyzyyyz.cn/</a></td><td>4.0方案编写者，多主题友链抓取适配，服务器部署方案编写者，友链朋友圈现维护者</td></tr><tr class="odd"><td>林木木（新版）</td><td><a href="https://immmmm.com/">https://immmmm.com/</a></td><td>新版友链朋友圈前端方案编写者</td></tr><tr class="even"><td>Fox</td><td><a href="https://foolishfox.cn/">https://foolishfox.cn/</a></td><td>提供 sql api 与 sql 存储本地化方案</td></tr></tbody></table><h1 id="四部署过程">四、部署过程</h1><p>官方教程文档：<a href="https://fcircle-doc.js.cool/#/">https://fcircle-doc.js.cool/#/</a></p><p>fork项目地址：<a href="https://github.com/Rock-Candy-Tea/hexo-circle-of-friends">https://github.com/Rock-Candy-Tea/hexo-circle-of-friends</a></p><p>fork功能说明：</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230817111653757.png" alt="image-20230817111653757"></p><p>编辑配置（直接远程github上修改，当然也可以clone下来修改进行commit和push）：</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230817111858083.png" alt="image-20230817111858083"></p><p>具体部署流程，官方流程都有进行细致说明，以官方教程为准，这里只讲述本人部署中遇到的问题，以及解决问题的思路，希望能帮助大家排坑！</p><h2 id="41-问题一访问后端all服务出现start-error">4.1问题一（访问后端/all服务出现start error）</h2><p>部署后访问项目路径/all地址出现<code>{“message”:”start error”}</code>，排查访问日志拉到错误的堆栈底，发现报错了<code>data.db path empty</code>，但是我设置的模式不是mongodb吗，怎么还会读取sqlite才会用的data.db了呢？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File “/var/task/api_dependencies/sql/db_interface.py”, line 62, in __get_sql_engine</span><br><span class="line">raise “data.db path empty”</span><br></pre></td></tr></table></figure><p>按上述日志说明没有data.db生成，逆链路想是gihub上workflow上没执行定时爬取成功，但是看执行过程好像没有抛错，重新runworkflow依然不行，官方文档主推的也是sqlite进行，mongodb模式下可能有bug？，就秉着试一下的心，改成sqlite看看</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818000308040.png" alt="image-20230818000308040"></p><p>之后改成sqlite模式再执行，发现一切正常，github仓库上产生出了data.db文件，而且还有个细节，细看下图看框起来的部分，githubaction的console将sqlite脱敏了</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818114822289.png" alt="image-20230818114822289"></p><p>这时候反推出来<strong>githubaction的控制台脱敏规则其实是将有与所设置的secrets环境变量的值进行全局替换脱敏</strong>，这时候回过去细看了一下刚刚设置mongodb模式时的执行日志，<strong>刚刚的mongodbupdate posts这行应该脱敏才对</strong></p><p><strong>至此可以缩小排查范围到环境变量的配置了</strong>，要么设置的值打错了，经过检查发现<strong>mongodb打成了mangodb</strong>，这种<strong>细小的错误往往最为致命而难查</strong></p><p>气定神闲，<strong>设置环境变量STORAGE_TYPE为mongodb正确</strong>后，<strong>再次runworkflow</strong>，果然<strong>正常执行</strong>了，这次<strong>再看mongodb字样果然被脱敏</strong>了，这算是一个部署过程中的小插曲，总体来说，官方文档给的还是相当细致准确的</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818113652666.png" alt="image-20230818113652666"></p><p>最后部署成功访问后端部署地址后加/all进行数据抽取，成功响应了爬取到的所有数据</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818124238017.png" alt="image-20230818124238017"></p><p>赶紧去博主评论区面壁一下表示sorrrrrrry，还<strong>发现在向作者提问时候就已经打错了，哈哈哈哈哈哈，再次尬住...</strong></p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818114552254.png" alt="image-20230818114552254"></p><h2 id="42-问题二后端有数据前端还是没有渲染出来">4.2问题二（后端有数据，前端还是没有渲染出来）</h2><p>部署成功后，打开页面发现还是没有数据</p><p>打开network搜索了没有发出和友链朋友圈后端相关的接口，浏览器清理缓存也无效，这时候确定作者应该是为了避免频繁请求带来的页面打开慢的问题，将第一次获取到的数据缓存下来了，且有一定的过期时间，在此过期时间还没到之前不会重复请求，且退出浏览器重新进入也无法显示，推断应该是存储在了localstorage中，打开一看果然是，且数据项带有创建时间与其对应的过期天数相关的设置，一天以内都不会重复请求的</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818122645974.png" alt="image-20230818122645974"></p><p>由此可以得出结论：<code>第一次没有获取到数据，浏览器会缓存下来，在一定时间内不会再出现与服务后端进行通信获取最新有效数据</code>这时候如果想在本机上获取最新数据，可以打开开发者选项，在Application中找到LocalStorage，之后删除友链朋友圈相关的UpdatedData和CreatedData结尾的缓存项，刷新页面，这时将会从服务端再次获取，出现了爬取到的数据了！</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230817234940454.png" alt="image-20230817234940454"></p><h1 id="五系统架构图">五、系统架构图</h1><p>以下是我根据此次部署简单绘制的系统架构图，说明整体的部署结构和交互原理，希望对大家理解整体部署结构和进行链路问题排查有帮助。</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230818150314488.png" alt="image-20230818150314488"></p><h1 id="六鸣谢文章">六、鸣谢文章</h1><blockquote><p><a href="https://www.yyyzyyyz.cn/posts/9b5ab1e3eb29/">友链朋友圈前/后端开发记录</a><a href="https://fcircle-doc.yyyzyyyz.cn/">友链朋友圈5.0部署文档</a> <a href="https://noionion.top/47095">友链朋友圈食用说明书</a> <a href="https://immmmm.com/hi-friends-circle/">Hi，My Friends（PublicBeta）</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一什么是友链朋友圈&quot;&gt;一、什么是友链朋友圈&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;你是否经常烦恼于友链过多但没有时间浏览？那么友链朋友圈将解决这一痛点。你可以随时获取友链网站的更新内容，并了解友链的活跃情况。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="建站经验" scheme="https://blog.junpengzhou.top/tags/%E5%BB%BA%E7%AB%99%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>来一场手写的星空(Less、Saas、Stylus)</title>
    <link href="https://blog.junpengzhou.top/article/74d1e41b.html"/>
    <id>https://blog.junpengzhou.top/article/74d1e41b.html</id>
    <published>2023-08-12T16:07:29.000Z</published>
    <updated>2023-08-23T10:38:55.441Z</updated>
    
    <content type="html"><![CDATA[]]></content>
    
    
      
      
    <summary type="html">
</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="前端技术" scheme="https://blog.junpengzhou.top/tags/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>CloudFlare+NameSilo进行域名解析</title>
    <link href="https://blog.junpengzhou.top/article/2c13306e.html"/>
    <id>https://blog.junpengzhou.top/article/2c13306e.html</id>
    <published>2023-08-12T02:00:20.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一-前提条件">一、 前提条件</h1><ul><li>CloudFlare账号注册</li><li>NameSilo账号注册</li></ul><h1 id="二-操作步骤">二、 操作步骤</h1><ol type="1"><li><p>在NameSilo中申请一个域名，对比起来NameSilo上的域名购买更加优惠</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812100350459.png" alt="image-20230812100350459"></p></li><li><p>从CloudFlare上复制下NameServer1和NameServer2（Add aWebSite，然后输入对应域名即可出现以下页面） <img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812100744729.png" alt="image-20230812100744729"></p></li><li><p>在NameSilo页面中选择对应域名，点击manager进入管理页面，选中域名，并点击ChangeNameservers功能按钮</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812100231247.png" alt="image-20230812100231247"></p></li><li><p>在弹出页面中清除原有的所有NameServer记录（如果有其他用途记得先记录下来进行备忘），并添加从CloudFlare中复制的NameServer并Submit</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812100634085.png" alt="image-20230812100634085"></p></li><li><p>等待收到CloudFlare接管域名控制权的消息，或者过几个小时上去查看一下，如果显示Greatnew！即可继续下一步</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812105952000.png" alt="image-20230812105952000"></p></li><li><p>之后在CloudFlare中的DNSRecords管理页中，配置站点的CNAME指向，配置方式按Vercel中自定义域名时Vercel所给出的提示进行配置即可</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812123956463.png" alt="image-20230812123956463"></p></li><li><p>配置完毕后返回查看Vercel发现流程节点继续流转下去了，待生成SSL证书完毕后，即可开始验证是否能正常访问</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812124255443.png" alt="image-20230812124255443"></p></li><li><p>开始验证是否正常访问，可能会出现问题，重定向次数过多</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812124419079.png" alt="image-20230812124419079"></p></li><li><p>如果出现上述问题进入 CloudflareDashboard，点击有问题的域名，打开左侧的 SSL/TLS 设置，在 Overview中设置加密模式为完全或完全（严格）即可。</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812124905866.png" alt="image-20230812124905866"></p></li><li><p>使用域名再次测试访问恢复正常了！</p></li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230812124952485.png" alt="image-20230812124952485"> 至此，全部完成！！<span class="emoji" data-emoji="laughing">😆</span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一-前提条件&quot;&gt;一、 前提条件&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;CloudFlare账号注册&lt;/li&gt;
&lt;li&gt;NameSilo账号注册&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;二-操作步骤&quot;&gt;二、 操作步骤&lt;/h1&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;在Nam</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="建站经验" scheme="https://blog.junpengzhou.top/tags/%E5%BB%BA%E7%AB%99%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>使用Vercel部署Twikoo评论系统</title>
    <link href="https://blog.junpengzhou.top/article/d56aa5a7.html"/>
    <id>https://blog.junpengzhou.top/article/d56aa5a7.html</id>
    <published>2023-08-11T04:20:35.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<p><code>注意 Vercel 部署的环境需配合 1.4.0 以上版本的 twikoo.js 使用 默认域名 *.vercel.app 在中国大陆访问速度较慢甚至无法访问，绑定自己的域名可以提高访问速度</code></p><ol type="1"><li><p>申请MongoDB账号（<a href="https://www.mongodb.com/zh-cn">MongoDB：应用程序数据平台 |MongoDB</a>）</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811124738057.png" alt="image-20230811124738057"></p></li><li><p>创建免费 MongoDB 数据库，区域推荐选择<code>AWS / N. Virginia (us-east-1)</code></p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811125436976.png" alt="image-20230811125436976"></p><ul><li>点击Create创建deployment</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811142520047.png" alt="image-20230811142520047"></p><ul><li>选择数据库（如需免费请选择M0），服务提供商选择亚马逊云，地区选择N.Virginia(us-east-1)</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811142728438.png" alt="image-20230811142728438"></p><ul><li>设置用户名和密码</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811143059729.png" alt="image-20230811143059729"></p><ul><li>选择云环境，并设置ip白名单，如果要全公网可访问设置ip白名单为0.0.0.0/0</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811143311162.png" alt="image-20230811143311162"></p><ul><li>出现Congratulations字样！离成功又近了！</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811143418916.png" alt="image-20230811143418916"></p><ul><li>点击Connect连接，复制连接参数</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811143647250.png" alt="image-20230811143647250"></p><ul><li>使用工具测试连接成功（DataGrip、Navicat、或者MangoDB forvscode等工具都可以）</li></ul><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811144134973.png" alt="image-20230811144134855"></p></li><li><p>在 Clusters 页面点击 CONNECT，按步骤设置允许所有 IP地址的连接（<a href="https://vercel.com/support/articles/how-to-allowlist-deployment-ip-address">为什么？openin newwindow</a>），创建数据库用户，并记录数据库连接字符串，请将连接字符串中的`&lt;password&gt;` 修改为数据库密码</p></li><li><p>申请 <a href="https://vercel.com/signup">Vercel</a> 账号</p></li><li><p>点击以下按钮将 Twikoo 一键部署到 Vercel <a href="https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/main/src/server/vercel-min"><img src="https://vercel.com/button" alt="img"></a></p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811125154158.png" alt="image-20230811125154158"></p></li><li><p>进入 Settings - Environment Variables，添加环境变量<code>MONGODB_URI</code>，值为第 3 步的数据库连接字符串</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811151707503.png" alt="image-20230811151707503"></p></li><li><p>进入 Deployments , 然后在任意一项后面点击更多（三个点） ,然后点击Redeploy , 最后点击下面的Redeploy</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811145857600.png" alt="image-20230811145857600"></p></li><li><p>进入 Overview，点击 Domains下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常”的提示</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230811150336432.png" alt="image-20230811150336432"></p></li><li><p>Vercel Domains（包含 <code>https://</code> 前缀，例如<code>https://xxx.vercel.app</code>）即为您的环境 id</p></li><li><p>复制后配置到博客twikoo配置项中，主要配置环境id即可</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;code&gt;注意 Vercel 部署的环境需配合 1.4.0 以上版本的 twikoo.js 使用 默认域名 *.vercel.app 在中国大陆访问速度较慢甚至无法访问，绑定自己的域名可以提高访问速度&lt;/code&gt;&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;申请M</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="建站经验" scheme="https://blog.junpengzhou.top/tags/%E5%BB%BA%E7%AB%99%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>如何在页面中嵌入51LA统计的数据统计插件</title>
    <link href="https://blog.junpengzhou.top/article/aff50f08.html"/>
    <id>https://blog.junpengzhou.top/article/aff50f08.html</id>
    <published>2023-08-09T03:21:37.000Z</published>
    <updated>2023-08-23T10:38:55.441Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一前提说明">一、前提说明</h1><ul><li>51LA账号</li><li>有自己的统计应用并记住自己的ck和id</li><li>参数设置==&gt;基础信息已填写正确的绑定域名</li></ul><h1 id="二操作步骤">二、操作步骤</h1><ol type="1"><li>开启数据挂件功能</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230809112149566.png" alt="image-20230809112149566"></p><ol start="2" type="1"><li>开启后请耐心等待5分钟，未到点打开代码中的<code>src</code>会出现下列错误：</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230809112544008.png" alt="image-20230809112544008"></p><ol start="3" type="1"><li>嵌入到网页中进行使用（数据显示正常）</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230809113122927.png" alt="image-20230809113122927"></p><ol start="4" type="1"><li><p><strong>设置完成，请更换最新的嵌入代码</strong></p><ul><li>为了您的数据挂件能被正常使用，请确认 基础信息中已正确填写域名配置。</li><li>**启用数据挂件功能后，需要大约 5分钟时间完成挂件创建，请耐心等待挂件生成。**在此期间您可将嵌入代码放置在您网站中任何想要展示站点数据的位置中。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script id=<span class="string">"LA-DATA-WIDGET"</span> crossorigin=<span class="string">"anonymous"</span> charset=<span class="string">"UTF-8"</span> src=<span class="string">"https://v6-widget.51.la/v6/3FWN3ZXqo0a6Z2Ev/quote.js?theme=0&amp;col=true&amp;f=12&amp;badge=icon_0&amp;icon=center"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一前提说明&quot;&gt;一、前提说明&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;51LA账号&lt;/li&gt;
&lt;li&gt;有自己的统计应用并记住自己的ck和id&lt;/li&gt;
&lt;li&gt;参数设置==&amp;gt;基础信息已填写正确的绑定域名&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;二操作步骤&quot;&gt;二、操作步骤&lt;/</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="建站经验" scheme="https://blog.junpengzhou.top/tags/%E5%BB%BA%E7%AB%99%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>Typora+腾讯云COS+PicGo进行自动上传文章图片到图床</title>
    <link href="https://blog.junpengzhou.top/article/4defb0f4.html"/>
    <id>https://blog.junpengzhou.top/article/4defb0f4.html</id>
    <published>2023-08-01T08:49:24.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一工具清单">一、工具清单</h1><ul><li>Typora</li><li>腾讯COS（对象存储服务）</li><li>PicGo</li></ul><h1 id="二操作步骤">二、操作步骤</h1><ol type="1"><li>点击最右上角的头像选择访问管理</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230801165131706.png" alt="image-20230801165131706"></p><ol start="2" type="1"><li>新建一个客户端秘钥，使得PicGo客户端在此授权下的权限和授权时间内，可以进行上传图片的操作</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230801165343294.png" alt="image-20230801165343294"></p><ol start="2" type="1"><li>配置PicGo，填入腾讯COS上相关的秘钥参数和桶基础参数</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230801165920178.png" alt="image-20230801165920178"></p><ol start="3" type="1"><li>进入Typora ==&gt; 文件 ==&gt; 偏好设置 ==&gt;图像中设置插入图片时候的自动上传动作和指定PicGo.exe程序位置，并在完成设置后可以验证图片上传选项</li></ol><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230801165606337.png" alt="image-20230801165606337"> 4.配置完成后上传后测试（桶内会多出文件来）</p><p><img src="https://junpengzhou-1305658609.cos.ap-nanjing.myqcloud.com/blog/image-20230801165031976.png" alt="image-20230801165031976"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一工具清单&quot;&gt;一、工具清单&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Typora&lt;/li&gt;
&lt;li&gt;腾讯COS（对象存储服务）&lt;/li&gt;
&lt;li&gt;PicGo&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;二操作步骤&quot;&gt;二、操作步骤&lt;/h1&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;点击最</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="建站经验" scheme="https://blog.junpengzhou.top/tags/%E5%BB%BA%E7%AB%99%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>如何在GitAction中获取子模块最新代码</title>
    <link href="https://blog.junpengzhou.top/article/67e7adac.html"/>
    <id>https://blog.junpengzhou.top/article/67e7adac.html</id>
    <published>2023-08-01T03:38:01.000Z</published>
    <updated>2023-08-23T10:38:55.437Z</updated>
    
    <content type="html"><![CDATA[<h2 id="alternatives">Alternatives</h2><ul><li>You can use the <code>submodules</code> input to the checkoutaction:<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">steps:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span> <span class="string">and</span> <span class="string">submodules</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">submodules:</span> <span class="string">recursive</span></span><br></pre></td></tr></table></figure></li><li>another way, you can just run the command directly:<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">steps:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">submodules</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">git</span> <span class="string">submodule</span> <span class="string">update</span> <span class="string">--init</span> <span class="string">--recursive</span></span><br></pre></td></tr></table></figure></li><li>or use git command with <a href="https://github.com/marketplace/actions/git-actions">git-actionplugin</a> instead:<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">steps:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">submodules</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">srt32/git-actions@v0.0.3</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">args:</span> <span class="string">git</span> <span class="string">submodule</span> <span class="string">update</span> <span class="string">--init</span> <span class="string">--recursive</span></span><br></pre></td></tr></table></figure></li></ul><p>原文链接：<a href="https://github.com/marketplace/actions/checkout-submodules">https://github.com/marketplace/actions/checkout-submodules</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;alternatives&quot;&gt;Alternatives&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You can use the &lt;code&gt;submodules&lt;/code&gt; input to the checkout
action:
&lt;figure class=&quot;highli</summary>
      
    
    
    
    <category term="技术分享" scheme="https://blog.junpengzhou.top/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="源代码管理" scheme="https://blog.junpengzhou.top/tags/%E6%BA%90%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>每日早报</title>
    <link href="https://blog.junpengzhou.top/article/89eb1b81.html"/>
    <id>https://blog.junpengzhou.top/article/89eb1b81.html</id>
    <published>2023-05-19T09:23:21.000Z</published>
    <updated>2023-08-23T10:38:55.441Z</updated>
    
    <content type="html"><![CDATA[<h1 id="每日60秒新闻">每日60秒新闻</h1><p><strong>来看看一觉醒来都发生了什么？</strong> <img src="https://v2.alapi.cn/api/zaobao?token=BX2vvKW28gktjrPr&amp;format=image"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;每日60秒新闻&quot;&gt;每日60秒新闻&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;来看看一觉醒来都发生了什么？&lt;/strong&gt; &lt;img src=&quot;https://v2.alapi.cn/api/zaobao?token=BX2vvKW28gktjrPr&amp;amp;format=</summary>
      
    
    
    
    <category term="日常分享" scheme="https://blog.junpengzhou.top/categories/%E6%97%A5%E5%B8%B8%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="日常见闻" scheme="https://blog.junpengzhou.top/tags/%E6%97%A5%E5%B8%B8%E8%A7%81%E9%97%BB/"/>
    
  </entry>
  
</feed>
